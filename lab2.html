<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Krypto-Scanner LAB ‚Äì Unterst√ºtzungen & Widerst√§nde</title>
  <link id="theme" rel="stylesheet" href="style-dark.css">
  <link rel="stylesheet" href="alarm-ui.css">
  <script src="https://unpkg.com/feather-icons"></script>
  <style>
    .alarm-control {
      position: absolute;
      top: 60px;
      right: 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      color: #00ff88;
      font-size: 12px;
    }
    .alarm-control span {
      font-weight: bold;
    }
    .alarm-control i {
      cursor: pointer;
    }
  </style>
</head>
<body>

<div class="toggle-switch">
  üåô
  <input type="checkbox" id="mode-toggle">
  ‚òÄÔ∏è
</div>

<div class="alarm-control">
  <i data-feather="bell" id="alarm-test"></i>
  <i data-feather="bell-off" id="alarm-off"></i>
  <span id="alarm-status">Alarm EIN</span>
</div>

<h1 style="font-size: 16px;">Krypto Scanner</h1>

<table>
  <thead>
    <tr>
      <th>Asset</th>
      <th>Kurs</th>
      <th>Einstieg</th>
      <th>TP1 / TP2</th>
      <th>Stop-Loss</th>
      <th>CRV</th>
      <th>RSI</th>
      <th>1h</th>
      <th>24h</th>
    </tr>
  </thead>
  <tbody id="coin-list"></tbody>
</table>

<audio id="alarm-sound" src="alarm.mp3" preload="auto"></audio>

<script>
  const toggle = document.getElementById('mode-toggle');
  toggle.checked = true;
  toggle.addEventListener('change', () => {
    document.getElementById('theme').setAttribute('href', toggle.checked ? 'style-dark.css' : 'style-light.css');
  });

  const alarmSound = document.getElementById('alarm-sound');
  let alarmActive = true;

  document.getElementById("alarm-test").addEventListener("click", () => {
    if (!alarmActive) return;
    alarmSound.play();
    const box = document.createElement("div");
    box.className = "alarm-box";
    box.innerHTML = '<b>Testalarm:</b> BTC n√§hert sich Einstieg!';
    const close = document.createElement("span");
    close.className = "alarm-close";
    close.innerHTML = "&times;";
    close.onclick = () => box.remove();
    box.appendChild(close);
    document.body.appendChild(box);
    setTimeout(() => box.remove(), 6000);
  });

  document.getElementById("alarm-off").addEventListener("click", () => {
    alarmActive = !alarmActive;
    const status = document.getElementById("alarm-status");
    status.textContent = alarmActive ? "Alarm EIN" : "Alarm AUS";
    status.style.color = alarmActive ? "#00ff88" : "#ff4444";
  });

  feather.replace();
</script>

<script src="alarm.js"></script>
<script src="ueberwachung.js"></script>
</body>
</html>
